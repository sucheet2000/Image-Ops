# Shared
NODE_ENV=development
NEXT_PUBLIC_API_BASE_URL=http://localhost:4000
NEXT_PUBLIC_AD_NETWORK=
NEXT_PUBLIC_ADSENSE_CLIENT_ID=
NEXT_PUBLIC_ADSENSE_SLOT_HOMEPAGE_TOP=
NEXT_PUBLIC_ADSENSE_SLOT_HOMEPAGE_BOTTOM=
NEXT_PUBLIC_ADSENSE_SLOT_DEFAULT=
NEXT_PUBLIC_ENABLE_BILLING_RECONCILE=false
NEXT_PUBLIC_GOOGLE_CLIENT_ID=

# API
API_PORT=4000
WEB_ORIGIN=http://localhost:3000
GOOGLE_CLIENT_ID=google-client-id
AUTH_TOKEN_SECRET=dev-auth-token-secret
AUTH_TOKEN_TTL_SECONDS=3600
AUTH_REFRESH_TTL_SECONDS=1209600
AUTH_REFRESH_COOKIE_NAME=image_ops_refresh_token
AUTH_REFRESH_COOKIE_SECURE=false
AUTH_REFRESH_COOKIE_SAMESITE=lax
AUTH_REFRESH_COOKIE_DOMAIN=
AUTH_REFRESH_COOKIE_PATH=/api/auth
MAX_UPLOAD_BYTES=10485760
API_WRITE_RATE_LIMIT_WINDOW_MS=60000
API_WRITE_RATE_LIMIT_MAX=120
SIGNED_UPLOAD_TTL_SECONDS=300
SIGNED_DOWNLOAD_TTL_SECONDS=300
TEMP_OBJECT_TTL_SECONDS=1800
CLEANUP_IDEMPOTENCY_TTL_SECONDS=86400
BILLING_CHECKOUT_TTL_SECONDS=900
FREE_PLAN_LIMIT=6
FREE_PLAN_WINDOW_HOURS=10
PRO_PLAN_LIMIT=250
PRO_PLAN_WINDOW_HOURS=24
TEAM_PLAN_LIMIT=1000
TEAM_PLAN_WINDOW_HOURS=24
JOB_QUEUE_NAME=image-ops-jobs
JOB_REPO_DRIVER=redis
POSTGRES_URL=postgres://postgres:postgres@localhost:5432/image_ops
BILLING_PROVIDER=hmac
BILLING_PUBLIC_BASE_URL=http://localhost:3000
BILLING_PORTAL_BASE_URL=
BILLING_PROVIDER_SECRET=dev-provider-secret
BILLING_WEBHOOK_SECRET=dev-webhook-secret
STRIPE_SECRET_KEY=
STRIPE_WEBHOOK_SECRET=
# Required in production â€” protects the /metrics endpoint. Generate with: openssl rand -hex 32
METRICS_TOKEN=your-random-32-char-hex-token-here
STRIPE_WEBHOOK_TOLERANCE_SECONDS=300
STRIPE_PRICE_ID_PRO=price_pro
STRIPE_PRICE_ID_TEAM=price_team
MALWARE_SCAN_API_URL=
MALWARE_SCAN_TIMEOUT_MS=5000
MALWARE_SCAN_FAIL_CLOSED=true

# Data
REDIS_URL=redis://localhost:6379

# Storage (S3-compatible)
S3_REGION=us-east-1
S3_ENDPOINT=http://localhost:9000
S3_PUBLIC_ENDPOINT=http://localhost:9000
S3_BUCKET=image-ops-temp
S3_ACCESS_KEY=minioadmin
S3_SECRET_KEY=minioadmin
S3_FORCE_PATH_STYLE=true

# MCP Gateway
MCP_PORT=4300
MCP_API_BASE_URL=http://localhost:4000
MCP_GATEWAY_SECRET=REPLACE_WITH_AT_LEAST_32_BYTES
MCP_ALLOWED_HOSTS=localhost
MCP_EXECUTE_ENABLED=true
MCP_EXEC_TIMEOUT_MS=4000
MCP_MAX_CALLS_PER_EXEC=5
MCP_RATE_LIMIT_WINDOW_MS=60000
MCP_RATE_LIMIT_MAX_REQUESTS=30
MCP_JWT_ISSUER=image-ops-auth
MCP_JWT_AUDIENCE=image-ops-mcp
MCP_JWT_JWKS_URL=
MCP_JWT_SHARED_SECRET=

# Worker
WORKER_API_BASE_URL=http://localhost:4000
WORKER_POLL_MS=2000
WORKER_SWEEP_EVERY=10
WORKER_INTERNAL_TOKEN=dev-worker-token
WORKER_CONCURRENCY=2
WORKER_HEARTBEAT_INTERVAL_MS=30000
BG_REMOVE_PROVIDER=http
BG_REMOVE_API_URL=
# Replace with your real provider key in production.
BG_REMOVE_API_KEY=REQUIRED
BG_REMOVE_TIMEOUT_MS=5000
BG_REMOVE_MAX_RETRIES=2
BG_REMOVE_BACKOFF_BASE_MS=250
BG_REMOVE_BACKOFF_MAX_MS=1000
